Table of Contents=================1.  [SqueakHOWTO](#org9f114d1)    1.  [Introduction](#orgd6908bf)    2.  [Background image](#org7b74a90)    3.  [Blocks Try Catch Finally](#orgd7a5da1)    4.  [Clean Up Junk](#org20051da)    5.  [Compile Spur64 on Slackware Linux](#org52adcbc)    6.  [Close All Inspectors](#org4481a46)    7.  [Custom Background Process](#orgd5d59c8)    8.  [Dynamic Retrieval of Class Method Categories and Methods](#orgae43838)    9.  [Dynamically Modify and Recompile methods in a Class](#org92a550d)    10. [Expired SSL Cert Issue In Monticello](#orgf554c90)    11. [isAbstract properly done](#orgfbb2aa6)    12. [Match Substrings In A Stream](#org7a8732b)    13. [RTPRIO warnings](#org910deb9)    14. [View Class Comment From an Inspector](#orgfab3a8e)<a id="org9f114d1"></a>SqueakHOWTO===========<a id="orgd6908bf"></a>Introduction------------    This is catch-all help for odd-ball squeak HOWTO issues.<a id="org7b74a90"></a>Background image----------------        1. Tools -> FileList    2. Browse to the image file you want.    3. Open    4. Middle Click for handles    5. Bottom righ handle to resize full screen.    6. Top Red Menu drop down-> set as background    7. Middle click for handles    8. Top left X to close image    9. Your background should be set.<a id="orgd7a5da1"></a>Blocks Try Catch Finally------------------------<a id="org20051da"></a>Clean Up Junk-------------    SystemNavigation obsoleteClasses    SystemNavigation obsoleteBehaviors    SystemNavigation obsoleteMethodReferences    Smalltalk garbageCollect    Smalltalk bytesLeft <a id="org52adcbc"></a>Compile Spur64 on Slackware Linux---------------------------------    git clone http://github.com/OpenSmalltalk/vm oscogvm        cd oscogvm/scripts/        ./scripts/updateSCCSVersions        pushd building/linux64x64/squeak.cog.spur/build    ./mvm    sudo make install    popd            per email from Marcel        Hi Timothy --        After your Git checkout, you must do this once        ./scripts/updateSCCSVersions        Then see how the CI does it        scripts/ci/actions_prepare_linux_x86.sh    scripts/ci/actions_build.sh        And do it yourself:        pushd building/linux64x64/squeak.cog.spur/build    ./mvm    sudo make install    popd        Well, you can also do this before building:        pushd platforms/unix/config    make configure    popd        Best,    Marcel<a id="org4481a46"></a>Close All Inspectors--------------------    World submorphs do: [ :e |          [ (e model isKindOf: Inspector) ifTrue: [ e delete ] ]             on: Error             do: [ ] ]            World submorphs do: [ :e |          [ (e class name = #StickySketchMorph) ifTrue: [ e delete ] ]             on: Error             do: [ ] ]            for unclosable browsers and workspaces...        World submorphs do: [ :e |      	#PluggableSystemWindow = e class name    		ifTrue:[	    			e mustNotClose    				ifTrue:[e makeClosable].    				e closeBoxHit.]]<a id="orgd5d59c8"></a>Custom Background Process-------------------------    Save the image every 15 minutes.    Handy while running/developing memory intensive /large images.        [[true] whileTrue: [ 900 seconds asDelay wait. Smalltalk snapshot: true andQuit: false.]] forkAt: Processor lowIOPriority named:'Dude'.<a id="orgae43838"></a>Dynamic Retrieval of Class Method Categories and Methods--------------------------------------------------------        Motive: I wanted to autogenerate a bunch of boiler-plate tests for some given methods.    This was the first step in getting the methods I wanted.        (((WikitextParserFactory allMethodCategoriesIntegratedThrough:WikitextParserFactory) sorted)  "get all the categories"     reject:[:r |                                                                                 "reject those I do not want"    	|oc|    	oc := OrderedCollection    			with:#accessing    			with: #'initialize-release'    			with: #parsing    			with: #'Templates Bogus'.    	oc includes:r]) do:[:c |     	                    (WikitextParserFactory packageInfo methodsInCategory: c ofClass:WikitextParserFactory)   "get the method names"    		do:[:m |Transcript show: c , ' -> ',  m methodSymbol; cr.]].                                         "display them"<a id="org92a550d"></a>Dynamically Modify and Recompile methods in a Class---------------------------------------------------        Motive: During a refactoring pass, I had about 1500 tests that where referencing an outdated class named 'PEGWikiMediaGeneratorTables'  and I needed them to all refer to a new class 'PEGWikiMediaGenerator'        With a little bit of digging here is what I did to modify those test methods and recompile them.            PEGParserWikimediaGeneratorTest selectors do:[:each|         	(PEGParserWikimediaGeneratorTest sourceCodeAt: each ) string includesSubstring:'PEGWikiMediaGeneratorTables'    		ifTrue:[    			PEGParserWikimediaGeneratorTest     				compile: ((PEGParserWikimediaGeneratorTest sourceCodeAt: each ) string copyReplaceAll:'PEGWikiMediaGeneratorTables' with:'PEGWikiMediaGenerator')]].            worked like a charm.<a id="orgf554c90"></a>Expired SSL Cert Issue In Monticello------------------------------------        Context: On October 1 2021 Monticello would not let me open the squeaksource.com  repository.        After much emailing at the board, it was determined that ...    1. squeaksource.com uses a funky certificate provider or something.    2. the problem was on my (a typical user) side of things.    3. this website gives us hoops to jump through:  https://www.openssl.org/blog/blog/2021/09/13/LetsEncryptRootCertExpire/                This fix worked for me:        su root    cd /etc/ssl/certs.    update-ca-certificate    mv DST_Root_CA_X3.pem  ~/   (or delete it)<a id="orgfbb2aa6"></a>isAbstract properly done------------------------    Instead of returnig ^true and then having to put a bunch of ^false in subclasses, consider this example from WACanvas        isAbstract         	^ self == WACanvas<a id="org7a8732b"></a>Match Substrings In A Stream----------------------------    Non-Optimized example: (array is created at runtime)        |ios|    ios := ReadStream on: 'Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit...|-'.    { '{|'  . '|-' . '|}' . '{{' . '}}' .  '[[' . ']]' . '__' . '==' . '::' . '**' . '##' . ''''  } anySatisfy: [:pattern | ios reset. ios match: pattern].        Better example: (array is created at compile time)    |ios patterns|    ios := ReadStream on: 'Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit...|-'.    patterns:=#( '{|'   '|-'  '|}'  '{{'  '}}'   '[['  ']]'  '__'  '=='  '::'  '**'  '##'  '''' ).    patterns anySatisfy: [:pattern |ios reset . ios match: pattern].        Eliot's example (modified for a workspace):        | ios patterns firsts seconds|    ios := ReadStream on: 'Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit...|-'.    patterns :=  #('{|' '|-' '|}' '{{' '}}' '[[' ']]' '__' '==' '::' '**' '##' '''''').    firsts := ((patterns collect: #first) as: Set).    seconds  := ((patterns collect: #second) as: Set).    [(ios size >= 2) & (ios peek notNil) ]     		whileTrue:[    			((firsts includes: (first := ios next))    			and: [(seconds includes: (second := ios peek))]    			and: [patterns includes: (ByteString with: first with: second)])    				ifTrue:[^true]]<a id="org910deb9"></a>RTPRIO warnings---------------<a id="orgfab3a8e"></a>View Class Comment From an Inspector------------------------------------        self class comment        will display the class comment in an inspector